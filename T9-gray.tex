\input{../preamble.tex}
\AfterPreamble{\hypersetup{
  pdftitle={T9. Comptador de Gray de 2 bits reversible},
}}

\newcommand{\nodenamebit}[1]{\textsf{#1}}
\newcommand{\nodenamesingle}[2]{\textsf{#1}_\textsf{#2}}
\newcommand{\nodenamerange}[3]{\textsf{#1}_\textsf{#2..#3}}
%\newcommand{\nodenamesingle}[2]{\textsf{#1[#2]}}
%\newcommand{\nodenamerange}[3]{\textsf{#1[#2..#3]}}

\begin{document}
\startpage


La sortida és directament l'estat, per tant només cal fer el diagrama de transició d'estats
per tenir determinat el sistema (noteu que s'ordenen les files per ordre de visita, no per l'estat):

\begin{center} \begin{tabular}{cccc} \toprule
          & $\text{CE} = 0$           & $\text{CE} = 1; \text{UD} = 0$   & $\text{CE} = 1; \text{UD} = 1$  \\
\cmidrule(){2-2} \cmidrule(rl){3-3} \cmidrule(){4-4}
$Q_1Q_0$  &  $Q^{+}_1Q^{+}_0$  &  $Q^{+}_1Q^{+}_0$  &  $Q^{+}_1Q^{+}_0$ \\
\midrule
00  &  00  &  01  &  10 \\
01  &  01  &  11  &  00 \\
11  &  11  &  10  &  01 \\
10  &  10  &  00  &  11 \\
\bottomrule
\end{tabular} \end{center}

Fem les TdV de les entrades als biestables, \emph{com si fossin biestables D}:

\begin{center} \begin{tabular}{c@{}c@{}c@{}ccc} \toprule
$\,\text{CE}\,$ & $\,\text{UD}\,$ & $\,Q_1\,$ & $\,Q_0\,$ & $D_1$ & $D_0$ \\
\midrule
0 & 0  &  0 & 0  &  0  &  0  \\
0 & 0  &  0 & 1  &  0  &  1  \\
0 & 0  &  1 & 0  &  1  &  0  \\
0 & 0  &  1 & 1  &  1  &  1  \\
0 & 1  &  0 & 0  &  0  &  0  \\
0 & 1  &  0 & 1  &  0  &  1  \\
0 & 1  &  1 & 0  &  1  &  0  \\
0 & 1  &  1 & 1  &  1  &  1  \\
1 & 0  &  0 & 0  &  0  &  1  \\
1 & 0  &  0 & 1  &  1  &  1  \\
1 & 0  &  1 & 0  &  0  &  0  \\
1 & 0  &  1 & 1  &  1  &  0  \\
1 & 1  &  0 & 0  &  1  &  0  \\
1 & 1  &  0 & 1  &  0  &  0  \\
1 & 1  &  1 & 0  &  1  &  1  \\
1 & 1  &  1 & 1  &  0  &  1  \\
\bottomrule
\end{tabular} \end{center}

Ara la mateixa taula, però per a biestables JK:

\begin{center} \begin{tabular}{c@{}c@{}c@{}cc@{}cc@{}c} \toprule
$\,\text{CE}\,$ & $\,\text{UD}\,$ & $\,Q_1\,$ & $\,Q_0\,$ & $J_1$ & $K_1$ & $J_0$ & $K_0$ \\
\midrule
0 & 0  &  0 & 0  &  0&--  &  0&--  \\
0 & 0  &  0 & 1  &  0&--  &  --&0  \\
0 & 0  &  1 & 0  &  --&0  &  0&--  \\
0 & 0  &  1 & 1  &  --&0  &  --&0  \\
0 & 1  &  0 & 0  &  0&--  &  0&--  \\
0 & 1  &  0 & 1  &  0&--  &  --&0  \\
0 & 1  &  1 & 0  &  --&0  &  0&--  \\
0 & 1  &  1 & 0  &  --&0  &  --&0  \\
1 & 0  &  0 & 0  &  0&--  &  1&--  \\
1 & 0  &  0 & 1  &  1&--  &  0&--  \\
1 & 0  &  1 & 0  &  --&1  &  0&--  \\
1 & 0  &  1 & 1  &  --&0  &  --&1  \\
1 & 1  &  0 & 0  &  1&--  &  0&--  \\
1 & 1  &  0 & 1  &  0&--  &  --&1  \\
1 & 1  &  1 & 0  &  --&0  &  1&--  \\
1 & 1  &  1 & 1  &  --&1  &  --&0  \\
\bottomrule
\end{tabular} \end{center}

\finishpage
\startpage

Fem els quatre mapes de Karnaugh. Per a $J_1$:

\begin{center} \begin{tabular}{ccccc}
\hspace{-.7em} \tikz[baseline=.1em]{\node at (.7em,.7em) {$Q_1Q_0$}; \node at (-.7em,-.7em) {$\text{\tiny CE}\,\text{\tiny UD}$}; \draw (1em,-1em) -- (-1em,1em);}
   & 00 & 01 & 11 & 10 \\
00 &  0 &  0 & -- & -- \\
01 &  0 &  0 & -- & -- \\
11 &  1 &  0 & -- & -- \\
10 &  0 &  1 & -- & -- \\
\end{tabular} \end{center}

Per a $K_1$:

\begin{center} \begin{tabular}{ccccc}
\hspace{-.7em} \tikz[baseline=.1em]{\node at (.7em,.7em) {$Q_1Q_0$}; \node at (-.7em,-.7em) {$\text{\tiny CE}\,\text{\tiny UD}$}; \draw (1em,-1em) -- (-1em,1em);}
   & 00 & 01 & 11 & 10 \\
00 & -- & -- &  0 &  0 \\
01 & -- & -- &  0 &  0 \\
11 & -- & -- &  1 &  0 \\
10 & -- & -- &  0 &  1 \\
\end{tabular} \end{center}

Per a $J_0$:

\begin{center} \begin{tabular}{ccccc}
\hspace{-.7em} \tikz[baseline=.1em]{\node at (.7em,.7em) {$Q_1Q_0$}; \node at (-.7em,-.7em) {$\text{\tiny CE}\,\text{\tiny UD}$}; \draw (1em,-1em) -- (-1em,1em);}
   & 00 & 01 & 11 & 10 \\
00 &  0 & -- & -- &  0 \\
01 &  0 & -- & -- &  0 \\
11 &  0 & -- & -- &  1 \\
10 &  1 &  0 & -- &  0 \\
\end{tabular} \end{center}

Per a $K_0$:

\begin{center} \begin{tabular}{ccccc}
\hspace{-.7em} \tikz[baseline=.1em]{\node at (.7em,.7em) {$Q_1Q_0$}; \node at (-.7em,-.7em) {$\text{\tiny CE}\,\text{\tiny UD}$}; \draw (1em,-1em) -- (-1em,1em);}
   & 00 & 01 & 11 & 10 \\
00 & -- &  0 &  0 & -- \\
01 & -- &  0 &  0 & -- \\
11 & -- &  1 &  0 & -- \\
10 & -- & -- &  1 & -- \\
\end{tabular} \end{center}

Escrivim les expressions simplificades en SdP (tractant de minimitzar el nombre de productes únics):
%
\begin{align*}
  J_1 &=
    \text{CE} \cdot \text{UD} \cdot \overline{Q_0} +
    \text{CE} \cdot \overline{\text{UD}} \cdot Q_0
  \\
  K_1 &=
    \text{CE} \cdot \text{UD} \cdot Q_0 +
    \text{CE} \cdot \overline{\text{UD}} \cdot \overline{Q_0}
  \\
  J_0 &=
    \text{CE} \cdot \text{UD} \cdot Q_1 +
    \text{CE} \cdot \overline{\text{UD}} \cdot \overline{Q_1} \cdot \overline{Q_0}
  \\
  K_0 &=
    \text{CE} \cdot \overline{Q_1} +
    \text{CE} \cdot \overline{\text{UD}} \cdot Q_0
\end{align*}

\finishpage
\startpage

El logigrama quedaria així: 

\adjustbox{max width=\textwidth}{
\begin{tikzpicture}[
  circuit ee IEC, circuit logic US,
  symbol/.style={line width=0.7pt, fill=white},
  primitive/.style={symbol},
  input pin/.style={symbol},
  output pin/.style={symbol},
  symbol type/.style={font={\sffamily\scriptsize\bfseries}},
  node line/.style={>={Latex[length=3pt, width=3pt]}, line width=0.7pt},
  bus line/.style={>={Latex[length=4pt, width=5pt]}, line width=2pt},
  line name/.style={font=\small, inner sep=0pt},
  pin name/.style={font=\small, inner sep=4pt},
  port name/.style={font=\scriptsize, inner sep=0pt},
  junction/.style={},
  pin bounds/.style={symbol bounds},
  symbol bounds/.style={draw=none},
]
  % Symbol (JKFF) named inst
  \draw[symbol bounds] (8.5714,-2.4762) rectangle (10.0952,-4.3810);
  \draw[symbol type] (8.8571,-2.5952) node[] {JKFF};
  \draw[symbol] (8.8571,-2.7619) -- (9.8095,-2.7619);
  \draw[symbol] (8.8571,-4.0952) -- (9.8095,-4.0952);
  \draw[symbol] (9.8095,-4.0952) -- (9.8095,-2.7619);
  \draw[symbol] (8.8571,-4.0952) -- (8.8571,-2.7619);
  \draw[symbol] (8.8571,-3.2857) -- (8.8571,-3.2619);
  \draw[symbol] (9.0238,-3.4286) -- (8.8571,-3.5952);
  \draw[symbol] (8.8571,-3.2381) -- (9.0476,-3.4286);
  \draw[symbol] (9.3333,-2.6667) circle[x radius=0.0952, y radius=0.0952];
  \draw[symbol] (9.3333,-4.1905) circle[x radius=0.0952, y radius=0.0952];
  \draw[port name] (9.3452,-2.7381) node[anchor=north] {\textsf{$\nodenamebit{PRN}$}};
  \draw[port name] (9.3452,-4.1429) node[anchor=south] {\textsf{$\nodenamebit{CLRN}$}};
  \draw[port name] (8.9524,-3.8095) node[anchor=west] {\textsf{$\nodenamebit{K}$}};
  \draw[port name] (8.9524,-3.0476) node[anchor=west] {\textsf{$\nodenamebit{J}$}};
  \draw[port name] (9.7143,-3.0476) node[anchor=east] {\textsf{$\nodenamebit{Q}$}};

  % Symbol (JKFF) named inst1
  \draw[symbol bounds] (8.5714,-4.9524) rectangle (10.0952,-6.8571);
  \draw[symbol type] (8.8571,-5.0714) node[] {JKFF};
  \draw[symbol] (8.8571,-5.2381) -- (9.8095,-5.2381);
  \draw[symbol] (8.8571,-6.5714) -- (9.8095,-6.5714);
  \draw[symbol] (9.8095,-6.5714) -- (9.8095,-5.2381);
  \draw[symbol] (8.8571,-6.5714) -- (8.8571,-5.2381);
  \draw[symbol] (8.8571,-5.7619) -- (8.8571,-5.7381);
  \draw[symbol] (9.0238,-5.9048) -- (8.8571,-6.0714);
  \draw[symbol] (8.8571,-5.7143) -- (9.0476,-5.9048);
  \draw[symbol] (9.3333,-5.1429) circle[x radius=0.0952, y radius=0.0952];
  \draw[symbol] (9.3333,-6.6667) circle[x radius=0.0952, y radius=0.0952];
  \draw[port name] (9.3452,-5.2143) node[anchor=north] {\textsf{$\nodenamebit{PRN}$}};
  \draw[port name] (9.3452,-6.6190) node[anchor=south] {\textsf{$\nodenamebit{CLRN}$}};
  \draw[port name] (8.9524,-6.2857) node[anchor=west] {\textsf{$\nodenamebit{K}$}};
  \draw[port name] (8.9524,-5.5238) node[anchor=west] {\textsf{$\nodenamebit{J}$}};
  \draw[port name] (9.7143,-5.5238) node[anchor=east] {\textsf{$\nodenamebit{Q}$}};

  % Symbol (OR2) named inst2
  \draw[primitive] (5.4762,-2.1905) -- (5.7381,-2.1905);
  \draw[primitive] (5.4762,-1.6429) -- (5.7381,-1.6429);
  \draw[primitive] (5.4802,-2.1945) arc[x radius=0.3929, y radius=0.3929, start angle=-45.0, end angle=50.7];
  \draw[primitive] (6.3152,-1.8998) arc[x radius=0.7500, y radius=0.7500, start angle=41.1, end angle=90.9];
  \draw[primitive] (5.7377,-2.1904) arc[x radius=0.7500, y radius=0.7500, start angle=-90.9, end angle=-39.7];

  % Symbol (OR2) named inst3
  \draw[primitive] (5.4762,-3.3333) -- (5.7381,-3.3333);
  \draw[primitive] (5.4762,-2.7857) -- (5.7381,-2.7857);
  \draw[primitive] (5.4802,-3.3373) arc[x radius=0.3929, y radius=0.3929, start angle=-45.0, end angle=50.7];
  \draw[primitive] (6.3152,-3.0427) arc[x radius=0.7500, y radius=0.7500, start angle=41.1, end angle=90.9];
  \draw[primitive] (5.7377,-3.3332) arc[x radius=0.7500, y radius=0.7500, start angle=-90.9, end angle=-39.7];

  % Symbol (OR2) named inst4
  \draw[primitive] (5.4762,-6.5714) -- (5.7381,-6.5714);
  \draw[primitive] (5.4762,-6.0238) -- (5.7381,-6.0238);
  \draw[primitive] (5.4802,-6.5754) arc[x radius=0.3929, y radius=0.3929, start angle=-45.0, end angle=50.7];
  \draw[primitive] (6.3152,-6.2808) arc[x radius=0.7500, y radius=0.7500, start angle=41.1, end angle=90.9];
  \draw[primitive] (5.7377,-6.5713) arc[x radius=0.7500, y radius=0.7500, start angle=-90.9, end angle=-39.7];

  % Symbol (OR2) named inst5
  \draw[primitive] (5.4762,-7.7143) -- (5.7381,-7.7143);
  \draw[primitive] (5.4762,-7.1667) -- (5.7381,-7.1667);
  \draw[primitive] (5.4802,-7.7183) arc[x radius=0.3929, y radius=0.3929, start angle=-45.0, end angle=50.7];
  \draw[primitive] (6.3152,-7.4236) arc[x radius=0.7500, y radius=0.7500, start angle=41.1, end angle=90.9];
  \draw[primitive] (5.7377,-7.7142) arc[x radius=0.7500, y radius=0.7500, start angle=-90.9, end angle=-39.7];

  % Symbol (AND3) named inst6
  \draw[primitive] (2.8571,-0.4762) -- (3.2143,-0.4762);
  \draw[primitive] (2.8571,-1.0714) -- (3.2143,-1.0714);
  \draw[primitive] (2.8571,-0.4762) -- (2.8571,-1.0714);
  \draw[primitive] (3.2133,-1.0711) arc[x radius=0.2976, y radius=0.2976, start angle=-92.5, end angle=92.3];

  % Symbol (AND3) named inst7
  \draw[primitive] (2.8571,-1.6190) -- (3.2143,-1.6190);
  \draw[primitive] (2.8571,-2.2143) -- (3.2143,-2.2143);
  \draw[primitive] (2.8571,-1.6190) -- (2.8571,-2.2143);
  \draw[primitive] (3.2133,-2.2140) arc[x radius=0.2976, y radius=0.2976, start angle=-92.5, end angle=92.3];

  % Symbol (AND3) named inst8
  \draw[primitive] (2.8571,-2.7619) -- (3.2143,-2.7619);
  \draw[primitive] (2.8571,-3.3571) -- (3.2143,-3.3571);
  \draw[primitive] (2.8571,-2.7619) -- (2.8571,-3.3571);
  \draw[primitive] (3.2133,-3.3569) arc[x radius=0.2976, y radius=0.2976, start angle=-92.5, end angle=92.3];

  % Symbol (AND3) named inst9
  \draw[primitive] (2.8571,-3.9048) -- (3.2143,-3.9048);
  \draw[primitive] (2.8571,-4.5000) -- (3.2143,-4.5000);
  \draw[primitive] (2.8571,-3.9048) -- (2.8571,-4.5000);
  \draw[primitive] (3.2133,-4.4997) arc[x radius=0.2976, y radius=0.2976, start angle=-92.5, end angle=92.3];

  % Symbol (AND3) named inst10
  \draw[primitive] (2.8571,-5.0476) -- (3.2143,-5.0476);
  \draw[primitive] (2.8571,-5.6429) -- (3.2143,-5.6429);
  \draw[primitive] (2.8571,-5.0476) -- (2.8571,-5.6429);
  \draw[primitive] (3.2133,-5.6426) arc[x radius=0.2976, y radius=0.2976, start angle=-92.5, end angle=92.3];

  % Symbol (AND2) named inst12
  \draw[primitive] (2.8095,-8.0952) -- (3.1905,-8.0952);
  \draw[primitive] (2.8095,-8.6905) -- (3.2143,-8.6905);
  \draw[primitive] (2.8095,-8.0952) -- (2.8095,-8.6905);
  \draw[primitive] (3.2143,-8.6902) arc[x radius=0.2976, y radius=0.2976, start angle=-87.7, end angle=92.3];

  % Symbol (AND4) named inst13
  \draw[primitive] (2.9048,-6.5714) -- (3.2857,-6.5714);
  \draw[primitive] (2.9048,-7.1429) -- (2.9048,-6.5714);
  \draw[primitive] (2.9048,-7.5000) -- (2.9048,-6.2143);
  \draw[primitive] (3.2857,-7.1667) -- (2.9048,-7.1667);
  \draw[primitive] (3.2847,-7.1664) arc[x radius=0.2976, y radius=0.2976, start angle=-92.5, end angle=92.3];

  % Symbol (NOT) named inst15
  \draw[primitive] (-0.4048,0.8333) -- (0.0238,0.8333);
  \draw[primitive] (0.0238,0.8333) -- (-0.1905,0.4048);
  \draw[primitive] (-0.4048,0.8333) -- (-0.1905,0.4048);
  \draw[primitive] (-0.1905,0.3095) circle[x radius=0.0952, y radius=0.0952];

  % Symbol (NOT) named inst16
  \draw[primitive] (1.1190,0.8333) -- (1.5476,0.8333);
  \draw[primitive] (1.5476,0.8333) -- (1.3333,0.4048);
  \draw[primitive] (1.1190,0.8333) -- (1.3333,0.4048);
  \draw[primitive] (1.3333,0.3095) circle[x radius=0.0952, y radius=0.0952];

  % Symbol (NOT) named inst17
  \draw[primitive] (-1.9286,0.8333) -- (-1.5000,0.8333);
  \draw[primitive] (-1.5000,0.8333) -- (-1.7143,0.4048);
  \draw[primitive] (-1.9286,0.8333) -- (-1.7143,0.4048);
  \draw[primitive] (-1.7143,0.3095) circle[x radius=0.0952, y radius=0.0952];

  \draw[node line] (2.8095,-8.5714) -- (2.4762,-8.5714) -- (-0.1905,-8.5714) -- (-0.1905,-7.0476);
  \draw[node line] (-0.1905,-7.0476) -- (2.4762,-7.0476) -- (2.9048,-7.0476);
  \draw[node line] (-0.1905,-7.0476) -- (-0.1905,0.0000) -- (-0.1905,0.2143);
  \draw[node line] (2.9048,-7.4286) -- (2.4762,-7.4286) -- (1.3333,-7.4286) -- (1.3333,-4.3810);
  \draw[node line] (1.3333,-4.3810) -- (1.3333,-0.9524);
  \draw[node line] (1.3333,-0.9524) -- (2.4762,-0.9524) -- (2.8571,-0.9524);
  \draw[node line] (1.3333,-0.9524) -- (1.3333,0.0000) -- (1.3333,0.2143);
  \draw[node line] (1.3333,-4.3810) -- (2.4762,-4.3810) -- (2.8571,-4.3810);
  \draw[node line] (2.8571,-5.5238) -- (2.4762,-5.5238) -- (-0.7619,-5.5238) -- (-0.7619,1.3333);
  \draw[node line] (-0.7619,1.3333) -- (-0.1905,1.3333) -- (-0.1905,1.1429) -- (-0.1905,0.8333);
  \draw[node line] (-0.7619,1.3333) -- (-0.7619,2.0952) -- (11.0476,2.0952) -- (11.0476,-3.0476);
  \draw[node line] (11.0476,-3.0476) -- (10.0952,-3.0476) -- (9.8095,-3.0476);
  \draw[node line, ->] (11.0476,-3.0476) -- (12.0000,-3.0476);
  \draw[node line] (2.8571,-3.2381) -- (2.4762,-3.2381) -- (0.7619,-3.2381) -- (0.7619,-2.0952);
  \draw[node line] (0.7619,-2.0952) -- (2.4762,-2.0952) -- (2.8571,-2.0952);
  \draw[node line] (0.7619,-2.0952) -- (0.7619,1.3333);
  \draw[node line] (0.7619,1.3333) -- (1.3333,1.3333) -- (1.3333,1.1429) -- (1.3333,0.8333);
  \draw[node line] (0.7619,1.3333) -- (0.7619,1.7143) -- (10.6667,1.7143) -- (10.6667,-5.5238);
  \draw[node line] (10.6667,-5.5238) -- (10.0952,-5.5238) -- (9.8095,-5.5238);
  \draw[node line, ->] (10.6667,-5.5238) -- (12.0000,-5.5238);
  \draw[node line] (2.9048,-6.6667) -- (2.4762,-6.6667) -- (-1.7143,-6.6667) -- (-1.7143,-4.1905);
  \draw[node line] (-1.7143,-4.1905) -- (2.4762,-4.1905) -- (2.8571,-4.1905);
  \draw[node line] (-1.7143,-4.1905) -- (-1.7143,-1.9048);
  \draw[node line] (-1.7143,-1.9048) -- (-1.7143,0.0000) -- (-1.7143,0.2143);
  \draw[node line] (-1.7143,-1.9048) -- (2.4762,-1.9048) -- (2.8571,-1.9048);
  \draw[node line] (2.8571,-5.3333) -- (2.4762,-5.3333) -- (-2.2857,-5.3333) -- (-2.2857,-3.0476);
  \draw[node line] (-2.2857,-3.0476) -- (-2.2857,-0.7619);
  \draw[node line] (-2.2857,-0.7619) -- (-2.2857,1.3333);
  \draw[node line] (-2.2857,1.3333) -- (-2.2857,1.9048);
  \draw[node line] (-2.2857,1.3333) -- (-1.7143,1.3333) -- (-1.7143,1.1429) -- (-1.7143,0.8333);
  \draw[node line] (-2.2857,-0.7619) -- (2.4762,-0.7619) -- (2.8571,-0.7619);
  \draw[node line] (-2.2857,-3.0476) -- (2.4762,-3.0476) -- (2.8571,-3.0476);
  \draw[node line] (2.8095,-8.1905) -- (2.4762,-8.1905) -- (-3.0476,-8.1905) -- (-3.0476,-6.2857);
  \draw[node line] (-3.0476,-6.2857) -- (2.4762,-6.2857) -- (2.9048,-6.2857);
  \draw[node line] (-3.0476,-6.2857) -- (-3.0476,-5.1429);
  \draw[node line] (-3.0476,-5.1429) -- (-3.0476,-4.0000);
  \draw[node line] (-3.0476,-4.0000) -- (-3.0476,-2.8571);
  \draw[node line] (-3.0476,-2.8571) -- (-3.0476,-1.7143);
  \draw[node line] (-3.0476,-1.7143) -- (-3.0476,-0.5714);
  \draw[node line] (-3.0476,-0.5714) -- (2.4762,-0.5714) -- (2.8571,-0.5714);
  \draw[node line] (-3.0476,-0.5714) -- (-3.0476,1.9048);
  \draw[node line] (-3.0476,-1.7143) -- (2.4762,-1.7143) -- (2.8571,-1.7143);
  \draw[node line] (-3.0476,-2.8571) -- (2.4762,-2.8571) -- (2.8571,-2.8571);
  \draw[node line] (-3.0476,-4.0000) -- (2.4762,-4.0000) -- (2.8571,-4.0000);
  \draw[node line] (-3.0476,-5.1429) -- (2.4762,-5.1429) -- (2.8571,-5.1429);
  \draw[node line] (3.5714,-6.8571) -- (4.0000,-6.8571) -- (4.3810,-6.8571) -- (4.3810,-6.4762) -- (5.1429,-6.4762) -- (5.5000,-6.4762);
  \draw[node line] (3.5000,-5.3333) -- (4.0000,-5.3333) -- (4.3810,-5.3333) -- (4.3810,-6.0952) -- (5.1429,-6.0952) -- (5.5000,-6.0952);
  \draw[node line] (5.5000,-2.0952) -- (5.1429,-2.0952) -- (4.9524,-2.0952);
  \draw[node line] (4.9524,-2.0952) -- (4.9524,-7.2381) -- (5.1429,-7.2381) -- (5.5000,-7.2381);
  \draw[node line] (4.9524,-2.0952) -- (4.3810,-2.0952) -- (4.3810,-1.9048) -- (4.0000,-1.9048) -- (3.5000,-1.9048);
  \draw[node line] (5.5000,-3.2381) -- (5.1429,-3.2381) -- (4.7619,-3.2381) -- (4.7619,-4.1905) -- (4.0000,-4.1905) -- (3.5000,-4.1905);
  \draw[node line, ->] (6.2857,-1.9048) -- (6.6667,-1.9048) -- (7.2381,-1.9048) -- (7.2381,-3.0476) -- (8.5714,-3.0476) -- (8.8571,-3.0476);
  \draw[node line, ->] (6.2857,-3.0476) -- (6.6667,-3.0476) -- (6.8571,-3.0476) -- (6.8571,-3.8095) -- (8.5714,-3.8095) -- (8.8571,-3.8095);
  \draw[node line, ->] (6.2857,-6.2857) -- (6.6667,-6.2857) -- (6.8571,-6.2857) -- (6.8571,-5.5238) -- (8.5714,-5.5238) -- (8.8571,-5.5238);
  \draw[node line] (5.5000,-7.6190) -- (5.1429,-7.6190) -- (4.9524,-7.6190) -- (4.9524,-8.3810) -- (4.0000,-8.3810) -- (3.4762,-8.3810);
  \draw[node line] (5.5000,-2.8571) -- (5.1429,-2.8571) -- (4.3810,-2.8571) -- (4.3810,-3.0476) -- (4.0000,-3.0476) -- (3.5000,-3.0476);
  \draw[node line] (5.5000,-1.7143) -- (5.1429,-1.7143) -- (4.7619,-1.7143) -- (4.7619,-0.7619) -- (4.0000,-0.7619) -- (3.5000,-0.7619);
  \draw[node line, ->] (6.2857,-7.4286) -- (6.6667,-7.4286) -- (7.2381,-7.4286) -- (7.2381,-6.2857) -- (8.5714,-6.2857) -- (8.8571,-6.2857);
  \draw[node line] (8.1905,-9.1429) -- (8.1905,-7.0476);
  \draw[node line, ->] (8.1905,-7.0476) -- (8.1905,-4.5714) -- (9.3333,-4.5714) -- (9.3333,-4.3810) -- (9.3333,-4.2857);
  \draw[node line, ->] (8.1905,-7.0476) -- (9.3333,-7.0476) -- (9.3333,-6.8571) -- (9.3333,-6.7619);
  \draw[node line] (8.8571,-5.9048) -- (8.5714,-5.9048) -- (7.8095,-5.9048);
  \draw[node line] (7.8095,-5.9048) -- (7.8095,-3.4286) -- (8.5714,-3.4286) -- (8.8571,-3.4286);
  \draw[node line] (7.8095,-5.9048) -- (7.8095,-9.1429);
  \draw[node line, ->] (9.3333,-4.9524) -- (9.3333,-5.0476);
  \draw[node line, ->] (9.3333,-2.4762) -- (9.3333,-2.5714);
  \draw[line name] (7.7619,-9.2381) node[anchor=east, rotate=90] {$\nodenamebit{clk}$};
  \draw[line name] (8.1429,-9.3333) node[anchor=east, rotate=90] {$\nodenamebit{nrst}$};
  \draw[line name] (-2.3333,2.0476) node[anchor=west, rotate=90] {$\nodenamebit{UD}$};
  \draw[line name] (12.1905,-5.4762) node[anchor=west] {$\nodenamesingle{Q}{0}$};
  \draw[line name] (12.1905,-3.0000) node[anchor=west] {$\nodenamesingle{Q}{1}$};
  \draw[line name] (-3.0952,2.0476) node[anchor=west, rotate=90] {$\nodenamebit{CE}$};
  \draw[junction] (7.8095,-5.9048) node[contact] {};
  \draw[junction] (8.1905,-7.0476) node[contact] {};
  \draw[junction] (-0.7619,1.3333) node[contact] {};
  \draw[junction] (-2.2857,1.3333) node[contact] {};
  \draw[junction] (0.7619,1.3333) node[contact] {};
  \draw[junction] (4.9524,-2.0952) node[contact] {};
  \draw[junction] (11.0476,-3.0476) node[contact] {};
  \draw[junction] (10.6667,-5.5238) node[contact] {};
  \draw[junction] (-3.0476,-0.5714) node[contact] {};
  \draw[junction] (-3.0476,-1.7143) node[contact] {};
  \draw[junction] (-3.0476,-2.8571) node[contact] {};
  \draw[junction] (-3.0476,-4.0000) node[contact] {};
  \draw[junction] (-3.0476,-5.1429) node[contact] {};
  \draw[junction] (-3.0476,-6.2857) node[contact] {};
  \draw[junction] (-2.2857,-0.7619) node[contact] {};
  \draw[junction] (-1.7143,-1.9048) node[contact] {};
  \draw[junction] (-2.2857,-3.0476) node[contact] {};
  \draw[junction] (-1.7143,-4.1905) node[contact] {};
  \draw[junction] (1.3333,-0.9524) node[contact] {};
  \draw[junction] (0.7619,-2.0952) node[contact] {};
  \draw[junction] (1.3333,-4.3810) node[contact] {};
  \draw[junction] (-0.1905,-7.0476) node[contact] {};
\end{tikzpicture}
}

\finishpage
\end{document}
